<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>互動影片播放器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 自訂樣式，用於設定影片的長寬比 */
        .aspect-video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 長寬比 */
            height: 0;
        }
        .aspect-video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        /* 選中縮圖的樣式 */
        .thumbnail-active {
            border-color: #3b82f6; /* 醒目的藍色邊框 */
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-900 text-white font-sans flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-4xl mx-auto">
        <header class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold tracking-tight">互動影片播放器</h1>
            <p class="text-gray-400 mt-2">點擊下方的縮圖即可切換影片</p>
        </header>

        <!-- 主要影片播放器 -->
        <main class="bg-black rounded-xl shadow-2xl overflow-hidden mb-6">
            <div class="aspect-video-container">
                <video id="main-video" src="video1.mp4" controls autoplay muted playsinline>
                    您的瀏覽器不支援 video 標籤。
                </video>
            </div>
        </main>

        <!-- 影片縮圖選擇區 -->
        <footer class="flex justify-center items-center gap-4 md:gap-6">
            <!-- 影片 1 縮圖 -->
            <div id="thumb1" class="video-thumbnail-wrapper cursor-pointer w-1/3 max-w-[200px] rounded-lg border-4 border-transparent transition-all duration-300 thumbnail-active" onclick="switchVideo('video1.mp4', this)">
                <video class="w-full h-full object-cover rounded-md pointer-events-none" src="video1.mp4" muted loop playsinline></video>
            </div>
            <!-- 影片 2 縮圖 -->
            <div id="thumb2" class="video-thumbnail-wrapper cursor-pointer w-1/3 max-w-[200px] rounded-lg border-4 border-transparent transition-all duration-300 opacity-60 hover:opacity-100" onclick="switchVideo('video2.mp4', this)">
                <video class="w-full h-full object-cover rounded-md pointer-events-none" src="video2.mp4" muted loop playsinline></video>
            </div>
        </footer>
    </div>

    <script>
        const mainVideo = document.getElementById('main-video');
        const thumbnails = document.querySelectorAll('.video-thumbnail-wrapper');
        const thumbnailVideos = document.querySelectorAll('.video-thumbnail-wrapper video');

        // 確保縮圖影片在載入後播放，提供動態預覽
        thumbnailVideos.forEach(video => {
            video.addEventListener('loadedmetadata', () => {
                video.play();
            });
        });

        // 切換影片的函式
        function switchVideo(videoSrc, clickedThumbnail) {
            // 如果來源相同，則不執行任何操作
            if (mainVideo.getAttribute('src') === videoSrc) {
                return;
            }

            // 更新主播放器的影片來源
            mainVideo.src = videoSrc;
            mainVideo.load(); // 重新載入影片
            mainVideo.play().catch(error => {
                console.log("Autoplay was prevented: ", error);
                // 在某些瀏覽器中，使用者需要先互動才能自動播放
            });

            // 更新縮圖的視覺樣式
            thumbnails.forEach(thumb => {
                thumb.classList.remove('thumbnail-active');
                thumb.classList.add('opacity-60', 'hover:opacity-100');
            });

            // 為被點擊的縮圖加上醒目樣式
            clickedThumbnail.classList.add('thumbnail-active');
            clickedThumbnail.classList.remove('opacity-60', 'hover:opacity-100');
        }

        // 監聽主影片播放結束事件，可以加入自訂邏輯
        mainVideo.addEventListener('ended', () => {
            console.log('Main video has ended.');
            // 例如：可以自動播放下一支影片
        });
    </script>

</body>
</html>
